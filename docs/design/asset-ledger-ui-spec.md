# 资产台账 UI 规范

版本：v1.0
日期：2026-01-27

## 文档简介

本文档定义资产台账系统的 UI 交互规范，包括错误展示、列表分页、冲突标记、关系链展示等，确保用户体验一致性。

- 适用读者：前端开发、UI/UX 设计师、产品经理。
- 关联文档：
  - PRD：`docs/mvp/prds/asset-ledger-v1.0-prd.md`
  - API 规范：`docs/design/asset-ledger-api-spec.md`
  - 错误码规范：`docs/design/asset-ledger-error-codes.md`

## 1. 错误展示规范

### 1.1 错误展示形式

| 形式        | 使用场景               | 示例                     |
| ----------- | ---------------------- | ------------------------ |
| Toast 通知  | 非阻塞错误、操作反馈   | 网络超时、保存成功       |
| Modal 弹窗  | 阻塞错误、需要用户确认 | 认证失败、权限不足       |
| 内联提示    | 表单校验错误           | 字段格式错误、必填项缺失 |
| Banner 横幅 | 全局警告、系统状态     | 服务降级、维护通知       |

### 1.2 错误信息结构

```
[错误图标] [错误标题]
[错误描述]
[操作按钮（可选）]
```

**示例**：

```
⚠️ 认证失败
用户名或密码错误，请重新输入。
[重试] [取消]
```

### 1.3 错误码到 UI 的映射

| error.code               | 展示形式 | 标题             | 描述模板                       |
| ------------------------ | -------- | ---------------- | ------------------------------ |
| AUTH_UNAUTHORIZED        | Modal    | 会话已过期       | 请重新登录                     |
| AUTH_INVALID_CREDENTIALS | 内联     | 认证失败         | 用户名或密码错误               |
| AUTH_FORBIDDEN           | Modal    | 权限不足         | 您没有权限执行此操作           |
| CONFIG_INVALID_REQUEST   | 内联     | 参数错误         | {details[0].message}           |
| CONFIG_RESOURCE_CONFLICT | Toast    | 资源冲突         | {message}                      |
| PLUGIN_TIMEOUT           | Toast    | 采集超时         | 插件执行超时，请稍后重试       |
| VCENTER_AUTH_FAILED      | Toast    | vCenter 认证失败 | 请检查凭证配置                 |
| VCENTER_NETWORK_ERROR    | Toast    | 网络错误         | 无法连接到 vCenter，请检查网络 |

### 1.4 可重试错误的处理

当 `error.retryable = true` 时：

- 显示"重试"按钮
- 自动重试策略：最多 3 次，间隔 2/4/8 秒（指数退避）
- 重试期间显示 loading 状态

## 2. 列表分页规范

### 2.1 分页组件

```
显示 1-20 条，共 150 条    每页 [20 ▼]    [<] 1 2 3 ... 8 [>]
```

### 2.2 分页参数

| 参数     | 默认值 | 可选值          |
| -------- | ------ | --------------- |
| 每页条数 | 20     | 10, 20, 50, 100 |
| 当前页   | 1      | 1 ~ totalPages  |

### 2.3 空状态

当列表为空时显示：

```
[空状态图标]
暂无数据
[可选：引导操作按钮]
```

**示例**：

- Source 列表为空："暂无来源，点击「新建来源」开始配置"
- Run 列表为空："暂无采集记录"
- Asset 列表为空："暂无资产数据，请先配置来源并执行采集"

### 2.4 加载状态

- 首次加载：全屏 Skeleton 占位
- 翻页加载：表格区域 Skeleton + 分页禁用
- 刷新加载：保持当前数据 + 顶部 loading bar

## 3. 表单规范

### 3.1 必填字段标记

```
来源名称 *
[输入框]
```

### 3.2 字段校验时机

| 时机               | 校验内容                     |
| ------------------ | ---------------------------- |
| 失焦（onBlur）     | 单字段格式校验               |
| 提交（onSubmit）   | 全表单校验 + 服务端校验      |
| 输入中（onChange） | 仅用于实时提示（如密码强度） |

### 3.3 校验错误展示

```
来源名称 *
[输入框（红色边框）]
⚠️ 来源名称不能为空
```

### 3.4 敏感字段处理

| 字段类型 | 输入                              | 展示                   |
| -------- | --------------------------------- | ---------------------- |
| 密码     | `type="password"` + 显示/隐藏切换 | 不回显（显示"已配置"） |
| 凭证     | 同上                              | 不回显                 |

## 4. 冲突字段标记规范

### 4.1 冲突标识

当 `canonical.fields.*.conflict = true` 时：

```
主机名: vm-app-01 ⚠️
         └─ [点击查看冲突详情]
```

### 4.2 冲突详情展示

**Tooltip 形式**（悬停显示）：

```
┌─────────────────────────────────────┐
│ 字段冲突                             │
├─────────────────────────────────────┤
│ 当前值: vm-app-01                    │
│ 来源: vcenter-prod (2026-01-26)      │
├─────────────────────────────────────┤
│ 备选值:                              │
│ • vm-app-01-bak                      │
│   来源: pve-lab (2026-01-25)         │
└─────────────────────────────────────┘
```

**展开形式**（点击展开）：

```
主机名
├─ 当前值: vm-app-01
│  来源: vcenter-prod | 采集时间: 2026-01-26 02:15
│
└─ 备选值:
   ├─ vm-app-01-bak
   │  来源: pve-lab | 采集时间: 2026-01-25 03:00
   └─ [共 1 个备选值]
```

### 4.3 冲突字段高亮

- 图标：⚠️ 黄色警告图标
- 边框：黄色虚线边框（可选）
- 背景：浅黄色背景（可选）

## 5. 关系链展示规范

### 5.1 关系链结构

```
VM: vm-app-01
    │
    ├─ runs_on ──▶ Host: esxi-01
    │                  │
    │                  └─ member_of ──▶ Cluster: cluster-prod
    │
    └─ [查看详情]
```

### 5.2 缺边展示

当关系不存在时：

```
VM: vm-app-01
    │
    ├─ runs_on ──▶ [未知]
    │              └─ 原因: 来源不提供宿主信息
    │
    └─ [查看详情]
```

**缺边原因枚举**：

| 原因代码              | 展示文案                 |
| --------------------- | ------------------------ |
| `source_not_provided` | 来源不提供此信息         |
| `permission_denied`   | 权限不足，无法获取       |
| `collection_failed`   | 采集失败                 |
| `not_applicable`      | 不适用（如阿里云无宿主） |

### 5.3 关系链交互

- 点击节点：跳转到对应资产详情页
- 悬停节点：显示资产摘要 Tooltip
- 展开/收起：支持折叠长关系链

## 资产详情字段展示规范（Canonical）

目标：将资产详情页的 canonical 字段展示从“调试视角（JSON/flatten）”升级为“盘点视角（可读/可扫/可分组）”，并确保后续新增字段/新增来源不会反复推倒 UI。

### 字段列（英文 ID + 中文名）

在资产详情 `/assets/[uuid]` 的 canonical 字段区域，默认表格列必须包含：

- 字段ID：canonical path（例如 `identity.hostname`、`hardware.memory_bytes`）
- 字段名：中文字段名（基于字段字典；详见“字段字典”小节）
- 值：人类可读渲染（详见“值渲染规范”小节）
- 来源数：`FieldValue.sources.length`
- 冲突：`FieldValue.conflict`（遵循第 4 章冲突标记规范）

### 分块 + 分组（A 外层 + B 内层）

字段展示必须支持：

- 外层分块（业务视角，A）：
  - 通用字段
  - VM 专用字段
  - Host/物理机专用字段
  - Cluster 专用字段
  - 扩展字段（attributes.\*）
  - 自定义字段（台账字段；若未启用则隐藏或显示空状态）
- 内层分组（schema 视角，B）：
  - 每个分块内部按 canonical 一级 key 分组（identity/network/os/hardware/runtime/storage/location/ownership/service/physical/attributes 等）

> 说明：分块/分组的目标是“盘点时能快速扫到关键信息”，而不是完整替代调试视图。调试视图必须保留（见“调试入口”小节）。

### 字段字典（Field Registry）

为避免“新增字段 → 全页面到处改”，建议以单一来源维护字段字典（实现形态可为 TS 常量或 JSON 文件）：

- key：canonical path（例如 `network.ip_addresses`）
- value：
  - `labelZh`：中文名（用于 UI 展示）
  - `groupA`：外层分块归属（通用/VM/Host/Cluster/扩展/自定义）
  - `groupB`：内层一级分组（identity/network/...）
  - `formatHint`：可选（bytes/datetime/enum 等）

兜底：

- 若字段未在字典中：中文名显示 `-`，字段仍必须展示（不可隐藏/不可静默丢失）。

### 值渲染规范（默认可读）

默认值视图不得以 JSON 作为主展示形式（JSON 仅作为“查看原始值”的调试入口）。

- string：直接展示（必要时截断 + 可展开）
- number：直接展示；对 bytes 字段格式化为 GiB/TiB（1024 进制）
- boolean：展示“是/否”
- null：展示 `-`
- array：
  - 基础数组：以逗号分隔或 tag 展示
  - 对象数组：以“列表卡片”展示（每项一行/一张卡片；优先展示关键键值）
- object：
  - schema 明确的对象：key-value 形式展示（优先中文化 key）
  - 未知对象：默认不展开，需通过调试入口查看 JSON

### 调试入口（必须保留）

资产详情必须保留调试入口（折叠/Advanced），至少包含：

- 查看原始 canonical（JSON）
- 查看单字段原始值（JSON）

## 6. 状态标签规范

### 6.1 Run 状态

| 状态      | 颜色 | 图标 |
| --------- | ---- | ---- |
| Queued    | 灰色 | ⏳   |
| Running   | 蓝色 | 🔄   |
| Succeeded | 绿色 | ✅   |
| Failed    | 红色 | ❌   |
| Cancelled | 橙色 | ⚪   |

### 6.2 Source 状态

| 状态   | 颜色 | 说明            |
| ------ | ---- | --------------- |
| 已启用 | 绿色 | enabled = true  |
| 已停用 | 灰色 | enabled = false |

### 6.3 Asset 状态

| 状态   | 颜色 | 说明               |
| ------ | ---- | ------------------ |
| 在管   | 绿色 | in_service         |
| 下线   | 灰色 | offline            |
| 已合并 | 蓝色 | merged（默认隐藏） |

## 7. 操作确认规范

### 7.1 需要确认的操作

| 操作        | 确认方式 | 确认文案                                           |
| ----------- | -------- | -------------------------------------------------- |
| 删除 Source | Modal    | 确定要删除来源「{name}」吗？此操作不可撤销。       |
| 停用 Source | Modal    | 确定要停用来源「{name}」吗？停用后将不再自动采集。 |
| 取消 Run    | Modal    | 确定要取消此采集任务吗？                           |
| 修改密码    | 二次输入 | 请再次输入新密码                                   |

### 7.2 确认弹窗结构

```
┌─────────────────────────────────────┐
│ [图标] 确认删除                      │
├─────────────────────────────────────┤
│ 确定要删除来源「vcenter-prod」吗？   │
│ 此操作不可撤销。                     │
├─────────────────────────────────────┤
│              [取消]  [确认删除]      │
└─────────────────────────────────────┘
```

## 8. 时间展示规范

### 8.1 时间格式

| 场景      | 格式     | 示例                      |
| --------- | -------- | ------------------------- |
| 列表/卡片 | 相对时间 | 5 分钟前、2 小时前、昨天  |
| 详情页    | 绝对时间 | 2026-01-27 12:00:00       |
| Tooltip   | 完整时间 | 2026-01-27T12:00:00+08:00 |

### 8.2 相对时间规则

| 时间差    | 展示       |
| --------- | ---------- |
| < 1 分钟  | 刚刚       |
| < 1 小时  | X 分钟前   |
| < 24 小时 | X 小时前   |
| < 7 天    | X 天前     |
| ≥ 7 天    | YYYY-MM-DD |

### 8.3 时区处理

- 存储：UTC
- 展示：用户本地时区（浏览器时区）
- 调度组时区：按配置的 IANA TZ 展示

## 9. 响应式设计

### 9.1 断点定义

| 断点 | 宽度            | 布局                       |
| ---- | --------------- | -------------------------- |
| xs   | < 640px         | 单列                       |
| sm   | 640px ~ 768px   | 单列                       |
| md   | 768px ~ 1024px  | 双列                       |
| lg   | 1024px ~ 1280px | 侧边栏 + 主内容            |
| xl   | ≥ 1280px        | 侧边栏 + 主内容 + 详情面板 |

### 9.2 表格响应式

- lg+：完整表格
- md：隐藏次要列，显示"更多"按钮
- sm-：卡片列表形式

## 10. 无障碍（Accessibility）

### 10.1 基本要求

- 所有交互元素可键盘访问（Tab 导航）
- 图标配合文字说明（aria-label）
- 颜色不作为唯一区分手段（配合图标/文字）
- 对比度符合 WCAG 2.1 AA 标准

### 10.2 快捷键

| 快捷键  | 功能              |
| ------- | ----------------- |
| `/`     | 聚焦搜索框        |
| `Esc`   | 关闭弹窗/取消操作 |
| `Enter` | 确认操作          |

## 11. 响应式断点详细规范

### 11.1 断点系统（Tailwind CSS 兼容）

```css
/* 断点定义 */
:root {
  --breakpoint-xs: 0px;
  --breakpoint-sm: 640px;
  --breakpoint-md: 768px;
  --breakpoint-lg: 1024px;
  --breakpoint-xl: 1280px;
  --breakpoint-2xl: 1536px;
}
```

### 11.2 各断点布局规范

#### 11.2.1 移动端（xs: < 640px）

| 组件   | 布局             | 说明                    |
| ------ | ---------------- | ----------------------- |
| 导航   | 底部 Tab 栏      | 最多 5 个入口           |
| 侧边栏 | 抽屉式（左滑出） | 点击汉堡菜单触发        |
| 表格   | 卡片列表         | 每行一个卡片            |
| 表单   | 全宽单列         | 标签在输入框上方        |
| 弹窗   | 全屏             | 从底部滑入              |
| 分页   | 简化版           | 仅显示「上一页/下一页」 |

#### 11.2.2 平板端（sm: 640px ~ md: 768px）

| 组件   | 布局         | 说明             |
| ------ | ------------ | ---------------- |
| 导航   | 顶部导航栏   | 折叠次要入口     |
| 侧边栏 | 可折叠图标栏 | 悬停展开         |
| 表格   | 简化表格     | 隐藏 3+ 列       |
| 表单   | 单列         | 标签在输入框上方 |
| 弹窗   | 居中弹窗     | 宽度 90%         |
| 分页   | 标准版       | 显示页码         |

#### 11.2.3 桌面端（md: 768px ~ lg: 1024px）

| 组件   | 布局       | 说明             |
| ------ | ---------- | ---------------- |
| 导航   | 顶部导航栏 | 完整显示         |
| 侧边栏 | 固定侧边栏 | 宽度 200px       |
| 表格   | 标准表格   | 显示主要列       |
| 表单   | 双列       | 标签在输入框左侧 |
| 弹窗   | 居中弹窗   | 宽度 600px       |
| 分页   | 完整版     | 显示页码 + 跳转  |

#### 11.2.4 大屏端（lg: 1024px+）

| 组件     | 布局       | 说明         |
| -------- | ---------- | ------------ |
| 导航     | 顶部导航栏 | 完整显示     |
| 侧边栏   | 固定侧边栏 | 宽度 240px   |
| 表格     | 完整表格   | 显示所有列   |
| 表单     | 多列       | 根据字段分组 |
| 弹窗     | 居中弹窗   | 宽度 800px   |
| 详情面板 | 右侧面板   | 宽度 400px   |

### 11.3 响应式组件示例

#### 11.3.1 资产列表响应式

```tsx
// 移动端：卡片列表
<div className="sm:hidden">
  {assets.map(asset => (
    <AssetCard key={asset.id} asset={asset} />
  ))}
</div>

// 平板端：简化表格
<table className="hidden sm:table lg:hidden">
  <thead>
    <tr>
      <th>主机名</th>
      <th>虚拟机名</th>
      <th>状态</th>
      <th>操作</th>
    </tr>
  </thead>
</table>

// 桌面端：完整表格
<table className="hidden lg:table">
  <thead>
    <tr>
      <th>主机名</th>
      <th>虚拟机名</th>
      <th>IP</th>
      <th>CPU</th>
      <th>内存</th>
      <th>总分配磁盘</th>
      <th>状态</th>
      <th>操作</th>
    </tr>
  </thead>
</table>
```

#### 11.3.2 表单响应式

```tsx
<form className="space-y-4">
  {/* 移动端：单列 */}
  <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
    <FormField label="来源名称" required />
    <FormField label="来源类型" required />
  </div>

  {/* 桌面端：多列 */}
  <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
    <FormField label="Endpoint" />
    <FormField label="用户名" />
    <FormField label="密码" type="password" />
  </div>
</form>
```

## 12. WCAG 2.1 合规清单

### 12.1 感知性（Perceivable）

#### 12.1.1 文本替代（1.1.1 - A 级）

| 检查项          | 要求                       | 实现方式                                |
| --------------- | -------------------------- | --------------------------------------- |
| 图片 alt 属性   | 所有非装饰性图片必须有 alt | `<img alt="资产图标" />`                |
| 图标 aria-label | 纯图标按钮必须有标签       | `<button aria-label="删除">🗑️</button>` |
| SVG 标题        | SVG 图标需要 title         | `<svg><title>加载中</title>...</svg>`   |

#### 12.1.2 时基媒体（1.2.x - A/AA 级）

| 检查项   | 要求                 | 状态              |
| -------- | -------------------- | ----------------- |
| 视频字幕 | 预录视频需要字幕     | N/A（系统无视频） |
| 音频描述 | 预录视频需要音频描述 | N/A               |

#### 12.1.3 适应性（1.3.x - A/AA 级）

| 检查项       | 要求                    | 实现方式                                |
| ------------ | ----------------------- | --------------------------------------- |
| 信息和关系   | 使用语义化 HTML         | `<table>`, `<nav>`, `<main>`, `<aside>` |
| 有意义的顺序 | DOM 顺序与视觉顺序一致  | 避免 CSS order 改变逻辑顺序             |
| 感官特征     | 不仅依赖颜色/形状       | 状态用颜色 + 图标 + 文字                |
| 方向         | 支持横竖屏              | 响应式布局                              |
| 输入目的     | 表单字段有 autocomplete | `autocomplete="username"`               |

#### 12.1.4 可辨别（1.4.x - A/AA/AAA 级）

| 检查项         | 要求                 | 标准           |
| -------------- | -------------------- | -------------- |
| 颜色使用       | 不仅依赖颜色传达信息 | 配合图标/文字  |
| 音频控制       | 自动播放音频可暂停   | N/A            |
| 对比度（最小） | 文本对比度 ≥ 4.5:1   | AA 级          |
| 文本缩放       | 支持 200% 缩放       | 使用 rem 单位  |
| 图像文本       | 避免图像中的文本     | 使用真实文本   |
| 对比度（增强） | 文本对比度 ≥ 7:1     | AAA 级（可选） |
| 非文本对比度   | UI 组件对比度 ≥ 3:1  | AA 级          |
| 文本间距       | 支持自定义间距       | 不固定行高     |
| 悬停/焦点内容  | 可关闭、可悬停、持久 | Tooltip 规范   |

### 12.2 可操作性（Operable）

#### 12.2.1 键盘可访问（2.1.x - A 级）

| 检查项     | 要求               | 实现方式             |
| ---------- | ------------------ | -------------------- |
| 键盘       | 所有功能可键盘操作 | Tab/Enter/Space/Esc  |
| 无键盘陷阱 | 焦点可移出任何组件 | Modal 关闭后恢复焦点 |
| 字符快捷键 | 单字符快捷键可关闭 | 提供设置选项         |

#### 12.2.2 足够时间（2.2.x - A/AA 级）

| 检查项         | 要求           | 实现方式              |
| -------------- | -------------- | --------------------- |
| 计时可调       | 超时前警告     | 会话超时前 5 分钟提示 |
| 暂停/停止/隐藏 | 自动更新可暂停 | 提供暂停按钮          |

#### 12.2.3 癫痫和物理反应（2.3.x - A 级）

| 检查项   | 要求                    | 实现方式     |
| -------- | ----------------------- | ------------ |
| 三次闪烁 | 无每秒闪烁 > 3 次的内容 | 避免闪烁动画 |

#### 12.2.4 可导航（2.4.x - A/AA 级）

| 检查项     | 要求             | 实现方式                             |
| ---------- | ---------------- | ------------------------------------ |
| 跳过块     | 提供跳过导航链接 | `<a href="#main">跳到主内容</a>`     |
| 页面标题   | 描述性页面标题   | `<title>资产列表 - 资产台账</title>` |
| 焦点顺序   | 逻辑焦点顺序     | 按 DOM 顺序                          |
| 链接目的   | 链接文本描述目的 | 避免「点击这里」                     |
| 多种方式   | 多种方式找到页面 | 导航 + 搜索 + 面包屑                 |
| 标题和标签 | 描述性标题和标签 | 使用 `<h1>`-`<h6>`                   |
| 焦点可见   | 焦点状态可见     | `outline` 样式                       |

#### 12.2.5 输入方式（2.5.x - A/AA 级）

| 检查项   | 要求                       | 实现方式                   |
| -------- | -------------------------- | -------------------------- |
| 指针手势 | 复杂手势有替代方案         | 拖拽可用按钮替代           |
| 指针取消 | 支持取消操作               | mouseup 触发，支持移出取消 |
| 标签名称 | 可见标签包含在可访问名称中 | `aria-label` 包含可见文本  |
| 动作激活 | 避免意外激活               | 使用 click 而非 mousedown  |

### 12.3 可理解性（Understandable）

#### 12.3.1 可读（3.1.x - A/AA 级）

| 检查项   | 要求         | 实现方式                         |
| -------- | ------------ | -------------------------------- |
| 页面语言 | 声明页面语言 | `<html lang="zh-CN">`            |
| 部分语言 | 标记语言变化 | `<span lang="en">vCenter</span>` |

#### 12.3.2 可预测（3.2.x - A/AA 级）

| 检查项   | 要求                 | 实现方式          |
| -------- | -------------------- | ----------------- |
| 焦点     | 焦点不触发上下文变化 | 避免 onFocus 导航 |
| 输入     | 输入不触发意外变化   | 表单提交需确认    |
| 一致导航 | 导航位置一致         | 固定导航栏        |
| 一致标识 | 相同功能一致标识     | 统一图标和文案    |

#### 12.3.3 输入辅助（3.3.x - A/AA 级）

| 检查项     | 要求                | 实现方式                 |
| ---------- | ------------------- | ------------------------ |
| 错误识别   | 自动识别错误        | 表单校验                 |
| 标签或说明 | 提供标签和说明      | `<label>` + placeholder  |
| 错误建议   | 提供错误修正建议    | 「请输入有效的 IP 地址」 |
| 错误预防   | 重要操作可确认/撤销 | 删除确认弹窗             |

### 12.4 健壮性（Robust）

#### 12.4.1 兼容（4.1.x - A/AA 级）

| 检查项       | 要求                     | 实现方式              |
| ------------ | ------------------------ | --------------------- |
| 解析         | 有效 HTML                | W3C 验证              |
| 名称/角色/值 | 自定义组件有正确 ARIA    | `role`, `aria-*` 属性 |
| 状态消息     | 状态消息可被辅助技术感知 | `aria-live="polite"`  |

### 12.5 WCAG 合规检查清单

```markdown
## WCAG 2.1 AA 合规检查清单

### 开发阶段

- [ ] 所有图片有 alt 属性
- [ ] 所有表单字段有 label
- [ ] 颜色对比度 ≥ 4.5:1（文本）/ 3:1（UI 组件）
- [ ] 支持键盘导航（Tab/Enter/Esc）
- [ ] 焦点状态可见
- [ ] 页面有描述性标题
- [ ] 使用语义化 HTML

### 测试阶段

- [ ] 使用 axe DevTools 扫描
- [ ] 使用 WAVE 扫描
- [ ] 键盘导航测试
- [ ] 屏幕阅读器测试（VoiceOver/NVDA）
- [ ] 200% 缩放测试
- [ ] 高对比度模式测试

### 发布前

- [ ] Lighthouse Accessibility 分数 ≥ 90
- [ ] 无 axe 严重/关键问题
- [ ] 主要用户流程可键盘完成
```

### 12.6 辅助技术测试矩阵

| 辅助技术  | 浏览器           | 测试优先级 |
| --------- | ---------------- | ---------- |
| VoiceOver | Safari (macOS)   | P0         |
| NVDA      | Chrome (Windows) | P0         |
| JAWS      | Chrome (Windows) | P1         |
| TalkBack  | Chrome (Android) | P1         |
| VoiceOver | Safari (iOS)     | P1         |

### 12.7 常见问题修复指南

| 问题           | 修复方式                              |
| -------------- | ------------------------------------- |
| 图片缺少 alt   | 添加描述性 alt 或 `alt=""`            |
| 表单缺少 label | 添加 `<label>` 或 `aria-label`        |
| 对比度不足     | 调整颜色至 4.5:1 以上                 |
| 焦点不可见     | 添加 `outline` 样式                   |
| 键盘无法访问   | 使用 `<button>` 或添加 `tabindex="0"` |
| 动态内容无通知 | 添加 `aria-live` 区域                 |
